# Motivation
This directory contains the scripts showing the straggler effect in multi-GPU servers. [dp_llama.py](./dp_llama.py) is a finetuning script using data parallelism. After executing the script, log files will be generated and could be further parsed using [log_proc.ipynb](./log_proc.ipynb)

# Steps
```bash
# checking environment
python env_check.py
# login to huggingface and download model (request model access if needed)
huggingface-cli login
# set target model in load_model.py and download dataset
python load_model.py
python load_dataset.py
# Run script
torchrun --nproc-per-node=<num nodes> dp_llama.py > log/log.txt
```
Finally, use the jupyter notebook for log file parsing and straggler analysis. An example log file is under the `log` directory, which is generated by executing the script on 4 A100 GPUs.
